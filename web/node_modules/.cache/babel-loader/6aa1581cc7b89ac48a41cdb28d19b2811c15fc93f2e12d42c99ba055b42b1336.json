{"ast":null,"code":"var _jsxFileName = \"/Users/hatusbatista/Documents/GranaApp/web/src/pages/RegisterPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useMutation } from 'react-query';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000/api/v1';\nconst RegisterPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [phone, setPhone] = useState('');\n  const [cpf, setCpf] = useState('');\n  const registerMutation = useMutation(data => axios.post(`${API_BASE_URL}/auth/register/`, data), {\n    onSuccess: () => {\n      alert('Conta criada com sucesso!');\n      navigate('/login');\n    },\n    onError: error => {\n      var _error$response;\n      const errors = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || {};\n      const errorMessage = Object.values(errors).flat().join('\\n');\n      alert(errorMessage || 'Erro ao criar conta');\n    }\n  });\n  const handleRegister = () => {\n    if (!email || !password || !passwordConfirm) {\n      alert('Preencha todos os campos obrigatórios');\n      return;\n    }\n    if (password !== passwordConfirm) {\n      alert('As senhas não coincidem');\n      return;\n    }\n    registerMutation.mutate({\n      email,\n      password,\n      password_confirm: passwordConfirm,\n      phone,\n      cpf\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Grana.AI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Cadastro\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      placeholder: \"Email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      autoComplete: \"username\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Senha\",\n      value: password,\n      onChange: e => setPassword(e.target.value),\n      autoComplete: \"new-password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Confirmar Senha\",\n      value: passwordConfirm,\n      onChange: e => setPasswordConfirm(e.target.value),\n      autoComplete: \"new-password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"tel\",\n      placeholder: \"Telefone (opcional)\",\n      value: phone,\n      onChange: e => setPhone(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"CPF (opcional)\",\n      value: cpf,\n      onChange: e => setCpf(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRegister,\n      disabled: registerMutation.isLoading,\n      children: registerMutation.isLoading ? 'Criando conta...' : 'Cadastrar'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"J\\xE1 tem conta? \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/login\",\n        children: \"Fa\\xE7a login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(RegisterPage, \"lGHUTIjOdXVOiVBOAW8nY6Jrs3c=\", false, function () {\n  return [useNavigate, useMutation];\n});\n_c = RegisterPage;\nexport default RegisterPage;\nvar _c;\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"names":["React","useState","useNavigate","useMutation","axios","jsxDEV","_jsxDEV","API_BASE_URL","RegisterPage","_s","navigate","email","setEmail","password","setPassword","passwordConfirm","setPasswordConfirm","phone","setPhone","cpf","setCpf","registerMutation","data","post","onSuccess","alert","onError","error","_error$response","errors","response","errorMessage","Object","values","flat","join","handleRegister","mutate","password_confirm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","autoComplete","onClick","disabled","isLoading","href","_c","$RefreshReg$"],"sources":["/Users/hatusbatista/Documents/GranaApp/web/src/pages/RegisterPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useMutation } from 'react-query';\nimport axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:8000/api/v1';\n\nconst RegisterPage = () => {\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [phone, setPhone] = useState('');\n  const [cpf, setCpf] = useState('');\n\n  const registerMutation = useMutation(\n    (data: { email: string; password: string; password_confirm: string; phone: string; cpf: string }) =>\n      axios.post(`${API_BASE_URL}/auth/register/`, data),\n    {\n      onSuccess: () => {\n        alert('Conta criada com sucesso!');\n        navigate('/login');\n      },\n      onError: (error: any) => {\n        const errors = error.response?.data || {};\n        const errorMessage = Object.values(errors).flat().join('\\n');\n        alert(errorMessage || 'Erro ao criar conta');\n      },\n    }\n  );\n\n  const handleRegister = () => {\n    if (!email || !password || !passwordConfirm) {\n      alert('Preencha todos os campos obrigatórios');\n      return;\n    }\n    if (password !== passwordConfirm) {\n      alert('As senhas não coincidem');\n      return;\n    }\n    registerMutation.mutate({ email, password, password_confirm: passwordConfirm, phone, cpf });\n  };\n\n  return (\n    <div className=\"register-container\">\n      <h1>Grana.AI</h1>\n      <h2>Cadastro</h2>\n      <input\n        type=\"email\"\n        placeholder=\"Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        autoComplete=\"username\"\n      />\n      <input\n        type=\"password\"\n        placeholder=\"Senha\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        autoComplete=\"new-password\"\n      />\n      <input\n        type=\"password\"\n        placeholder=\"Confirmar Senha\"\n        value={passwordConfirm}\n        onChange={(e) => setPasswordConfirm(e.target.value)}\n        autoComplete=\"new-password\"\n      />\n      <input\n        type=\"tel\"\n        placeholder=\"Telefone (opcional)\"\n        value={phone}\n        onChange={(e) => setPhone(e.target.value)}\n      />\n      <input\n        type=\"text\"\n        placeholder=\"CPF (opcional)\"\n        value={cpf}\n        onChange={(e) => setCpf(e.target.value)}\n      />\n      <button onClick={handleRegister} disabled={registerMutation.isLoading}>\n        {registerMutation.isLoading ? 'Criando conta...' : 'Cadastrar'}\n      </button>\n      <p>\n        Já tem conta? <a href=\"/login\">Faça login</a>\n      </p>\n    </div>\n  );\n};\n\nexport default RegisterPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}